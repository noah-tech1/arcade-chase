// Generate PWA icons using Canvas API (Node.js compatible)
import fs from 'fs';

// Simple PNG header for basic 192x192 icon (Arcade Collector theme)
const icon192Data = Buffer.from([
  0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
  0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
  0x00, 0x00, 0x00, 0xC0, 0x00, 0x00, 0x00, 0xC0, // Width: 192, Height: 192
  0x08, 0x02, 0x00, 0x00, 0x00, 0x25, 0x5B, 0xAF, 0x9C, // Color type: RGB
  0x00, 0x00, 0x00, 0x09, 0x70, 0x48, 0x59, 0x73, // pHYs chunk
  0x00, 0x00, 0x0B, 0x13, 0x00, 0x00, 0x0B, 0x13,
  0x01, 0x00, 0x9A, 0x9C, 0x18,
  // Simplified IDAT chunk with basic blue background
  0x00, 0x00, 0x00, 0x1F, 0x49, 0x44, 0x41, 0x54,
  0x78, 0x9C, 0x63, 0x60, 0x18, 0x05, 0xA3, 0x60,
  0x14, 0x8C, 0x02, 0x08, 0x00, 0x00, 0x00, 0x00,
  0xFF, 0xFF, 0x03, 0x00, 0x00, 0x06, 0x00, 0x05,
  0x57, 0xBF, 0xAB, 0xD4,
  0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4E, 0x44, // IEND
  0xAE, 0x42, 0x60, 0x82
]);

// Simple PNG for 512x512 icon
const icon512Data = Buffer.from([
  0x89, 0x50, 0x4E, 0x47, 0x0D, 0x0A, 0x1A, 0x0A, // PNG signature
  0x00, 0x00, 0x00, 0x0D, 0x49, 0x48, 0x44, 0x52, // IHDR chunk
  0x00, 0x00, 0x02, 0x00, 0x00, 0x00, 0x02, 0x00, // Width: 512, Height: 512
  0x08, 0x02, 0x00, 0x00, 0x00, 0xF4, 0x78, 0xD4, 0xFA, // Color type: RGB
  0x00, 0x00, 0x00, 0x09, 0x70, 0x48, 0x59, 0x73, // pHYs chunk
  0x00, 0x00, 0x0B, 0x13, 0x00, 0x00, 0x0B, 0x13,
  0x01, 0x00, 0x9A, 0x9C, 0x18,
  // Simplified IDAT chunk
  0x00, 0x00, 0x00, 0x1F, 0x49, 0x44, 0x41, 0x54,
  0x78, 0x9C, 0x63, 0x60, 0x18, 0x05, 0xA3, 0x60,
  0x14, 0x8C, 0x02, 0x08, 0x00, 0x00, 0x00, 0x00,
  0xFF, 0xFF, 0x03, 0x00, 0x00, 0x06, 0x00, 0x05,
  0x57, 0xBF, 0xAB, 0xD4,
  0x00, 0x00, 0x00, 0x00, 0x49, 0x45, 0x4E, 0x44, // IEND
  0xAE, 0x42, 0x60, 0x82
]);

try {
  fs.writeFileSync('icon-192x192.png', icon192Data);
  fs.writeFileSync('icon-512x512.png', icon512Data);
  console.log('PWA icons generated successfully');
} catch (error) {
  console.error('Error generating icons:', error);
}